{% extends "base.html" %}

{% block content %}

{% if hero %}
{#--- : ADD HERO CONTENT BLOCK ---#}
<section class="hero-section" style="background-image: url('{{ (hero.image_s3_key_large or hero.image_s3_key) | s3_url }}');">
    <div class="hero-content">
        <h1 class="hero-title">{{ hero.main_title }}</h1>
        <h2 class="hero-subtitle">{{ hero.subtitle }}</h2>
        <p class="hero-description">{{ hero.description }}</p>
        <div class="hero-scroll-down">
            <p>{{ hero.scroll_text_main }}</p>
            <p>{{ hero.scroll_text_secondary }}</p>
            <a href="#about" class="scroll-arrow">&darr;</a>
        </div>
    </div>
</section>
{% endif %}

{#--- : ADD ANNOUNCEMENT BANNER BLOCK ---#}
{% if announcement_banner and announcement_banner.is_active and announcement_banner.featured_puppy %}
    {% set puppy = announcement_banner.featured_puppy %}
    {% set mom = puppy.mom %}
    {% set dad = puppy.dad %}
    
    <div class="litter-announcement-banner">
        <h4 class="h4">{{ announcement_banner.main_text }}</h4>
        <p>{{ announcement_banner.sub_text.format(mom_name=mom.name, dad_name=dad.name, birth_date=puppy.birth_date.strftime('%B %d, %Y')) }}</p>
        <a href="{{ url_for('puppies.list_puppies') }}#litter-{{ puppy.birth_date.strftime('%Y%m%d') }}-{{ dad.id }}-{{ mom.id }}" class="btn btn-outline-light">
            {{ announcement_banner.button_text }}
        </a>
    </div>
{% endif %}

<div class="container" id="about">
    {% if about %}
    <section class="my-5">
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="{{ about.image_s3_key | s3_url }}" class="img-fluid rounded shadow" alt="About us">
            </div>
            <div class="col-md-6">
                <h2 class="display-5">{{ about.title }}</h2>
                <div class="lead">{{ about.content_html|safe }}</div>
            </div>
        </div>
    </section>
    <hr class="my-5">
    {% endif %}

    <section id="available-puppies" class="my-5 text-center">
        <h2 class="display-5 mb-4">Available Puppies</h2>
        {% if puppies %}
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for puppy in puppies %}
            <div class="col">
                <div class="card h-100 shadow-sm">
                    <img src="{{ puppy.main_image_s3_key | s3_url }}" class="card-img-top" alt="Photo of {{ puppy.name }}">
                    <div class="card-body">
                        </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        {% endif %}
    </section>
    <hr class="my-5">

    {% if guardian_parents %}
    <section id="guardian-parents" class="my-5 text-center">
        <h2 class="display-5 mb-4">Guardian Parents</h2>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for parent in guardian_parents %}
            <div class="col">
                <div class="card h-100 shadow-sm">
                    <img src="{{ parent.main_image_s3_key | s3_url }}" class="card-img-top" alt="Photo of {{ parent.name }}">
                    <div class="card-body">
                        </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    <hr class="my-5">
    {% endif %}

    {% if gallery_images %}
    <section id="gallery" class="my-5">
        <h2 class="display-5 text-center mb-4">Gallery</h2>
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-3">
            {% for image in gallery_images %}
            <div class="col">
                <a href="{{ image.image_s3_key | s3_url }}" data-toggle="lightbox" data-gallery="site-gallery" data-title="{{ image.caption or 'Gallery Image' }}">
                    <img src="{{ image.image_s3_key | s3_url }}" class="img-fluid img-thumbnail" alt="{{ image.caption or 'Gallery Image' }}">
                </a>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

</div>
{% endblock %}