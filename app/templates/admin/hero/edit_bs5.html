{# app/templates/admin/hero/edit_bs5.html #}
{% extends 'admin/model/edit.html' %}

{% block head_css %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin/admin_custom.css') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components/hero.css') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin/previews/hero_preview.css') }}">
{% endblock %}

{# Block 2: Main Body with Live Preview #}
{% block body %}
    <div class="container mt-4">
        {{ super() }}

        {# --- LIVE PREVIEW BLOCK --- #}
        <div class="live-preview-container">
            <h3>Live Preview</h3>
            <div class="hero-preview-wrapper">
                <section class="hero-section" style="background-image: url('{{ (model.image_s3_key_large or model.image_s3_key) | s3_url }}');">
                    <div class="hero-content">
                        <h1 class="hero-title" id="preview-main-title">{{ model.main_title }}</h1>
                        <h2 class="hero-subtitle" id="preview-subtitle">{{ model.subtitle }}</h2>
                        <p class="hero-description" id="preview-description">{{ model.description }}</p>
                        <div class="hero-scroll-down">
                            <p id="preview-scroll-main">{{ model.scroll_text_main }}</p>
                            <p id="preview-scroll-secondary">{{ model.scroll_text_secondary }}</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
{% endblock %}

{# Block 3: JavaScript Loading #}
{% block tail %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    {# --- Load the new preview script --- #}
    <script src="{{ url_for('static', filename='js/previews/hero_preview.js') }}"></script>
{% endblock %}